// Generated by CoffeeScript 1.6.3
/* 
* flexnav plugin v1.0
* http://iarouse.com/
*
* License info: http://codecanyon.net/licenses
*/(function(){(function(e,t){"use strict";return $.fn.flexnav=function(e){return this.each(function(){var n,r,i,s,o,u,a,f,l,c,h,p,d;c=$.extend({breakpoint:767,animationSpeed:250,backLabel:"Back",useActiveItemAsBackLabel:!0},e);o=$(this);i=o.parent();s=o.find("li");a=$(t);h=void 0;r=$(".fn-button");f=!1;p=function(){s.each(function(){var e;e=$(this);if(e.has("ul").length){e.addClass("with-ul");return e.find("ul").addClass("sub-ul")}});return o.find(".with-ul").append('<span class="navicon"></span>')};p();o.find(".sub-ul").prepend('<li class="fn-back"><a href="#">'+c.backLabel+"</a></li>");u=$(".flexnav .navicon");n=$(".fn-back");c.useActiveItemAsBackLabel&&n.each(function(){var e,t;e=$(this);t=e.parents("li.with-ul").first().children("a").text();return e.find("a").html(t)});r.on("click",function(){if(f){o.stop(!0,!0).slideUp(c.animationSpeed,function(){return d()});return f=!1}o.stop(!0,!0).slideDown(c.animationSpeed);return f=!0});u.on("click",function(e){var t,n,r;e.stopPropagation();r=$(this);t=r.parent("li");n=t.parents(".fn-subviewopen");o.addClass("fn-subview");t.addClass("fn-subviewopen");return n.removeClass("fn-subviewopen").addClass("fn-subview")});n.on("click",function(e){var t,n,r,i;e.preventDefault();r=$(this);i=r.parent("");t=i.parent();t.removeClass("fn-subviewopen");n=r.parents(".fn-subview").first();n.is("li")&&n.addClass("fn-subviewopen");return n.removeClass("fn-subview")});d=function(){o.removeClass("fn-subview");return s.removeClass("fn-subview fn-subviewopen")};l=function(){var e;e=a.width();if(e<=c.breakpoint){if($(".fn-lg").length){d();o.hide();f=!1}o.removeClass("fn-lg").addClass("fn-sm");return i.removeClass("fn-container-lg").addClass("fn-container-sm")}d();o.removeClass("fn-sm").addClass("fn-lg").show();return i.removeClass("fn-container-sm").addClass("fn-container-lg")};l();return a.resize(function(){clearTimeout(h);return h=setTimeout(l,200)})})}})(jQuery,window)}).call(this);
